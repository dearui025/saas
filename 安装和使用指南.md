# Open-nof1.ai 安装和使用指南

## 🎉 安装完成！

恭喜！您已经成功安装了 **Open-nof1.ai** - 一个开源的AI加密货币交易基准平台。

## 📋 安装摘要

### ✅ 已完成的步骤：

1. **克隆仓库** - 从 GitHub 成功下载了项目代码
2. **安装依赖** - 使用 pnpm 安装了所有必需的 Node.js 包
3. **数据库配置** - 
   - 将数据库从 PostgreSQL 切换到 SQLite（更适合开发环境）
   - 成功创建了数据库架构
4. **修复构建问题** - 移除了 Turbopack 以确保稳定运行
5. **API密钥配置** - DeepSeek API密钥已成功配置
6. **启动服务器** - Next.js 开发服务器正在 http://localhost:3000 运行

### 🔧 技术栈

- **前端框架**: Next.js 15.5.6
- **数据库**: SQLite（通过 Prisma ORM）
- **包管理器**: pnpm
- **UI组件**: Tailwind CSS + shadcn/ui
- **图表库**: Recharts
- **AI集成**: DeepSeek API

## 🌐 访问应用程序

应用程序现在正在运行，您可以通过以下方式访问：

- **本地地址**: http://localhost:3000
- **网络地址**: http://172.18.147.3:3000

## 📊 应用程序功能

### 主要界面组件：

1. **加密货币价格卡片** - 显示 BTC, ETH, BNB, SOL, DOGE 的实时价格
2. **性能图表** - 账户价值随时间变化的交互式图表
3. **模型活动面板** - 包含三个选项卡：
   - **CHAT** - AI 决策过程和推理
   - **TRADES** - 交易历史记录
   - **POSITIONS** - 当前持仓（即将推出）

## ⚙️ 环境配置

当前 `.env` 文件配置：

```env
NEXT_PUBLIC_URL="http://localhost:3000"
DEEPSEEK_API_KEY="sk-95142b92e0964668bf65bcfeaf43aa4d"  # ✅ 已配置
OPENROUTER_API_KEY="xxx"        # 可选
EXA_API_KEY="xxx"               # 可选
BINANCE_API_KEY="xxx"           # 需要配置
BINANCE_API_SECRET="xxx"        # 需要配置
BINANCE_USE_SANDBOX="true"      # 沙盒模式（安全）
DATABASE_URL="file:./dev.db"    # SQLite 数据库
CRON_SECRET_KEY="xxxx"          # 需要配置
START_MONEY=30                  # 起始资金（USDT）
```

## 🔑 完整配置所需的API密钥

要启用完整的交易功能，您需要获取以下API密钥：

### 1. DeepSeek API Key
- 访问：https://platform.deepseek.com/
- 用于AI交易决策

### 2. Binance API Keys
- 访问：https://www.binance.com/en/my/settings/api-management
- 创建API密钥用于加密货币交易
- **重要**：当前设置为沙盒模式，使用测试资金

### 3. 其他可选API
- **OpenRouter API Key**: 用于额外的AI模型
- **Exa API Key**: 用于增强的市场分析

## 🚀 下一步操作

### 1. 配置API密钥 ✅ 已完成
- **DeepSeek API Key**: ✅ 已配置
- **Binance API Keys**: ⏳ 待配置（可选，用于真实交易）
- **其他API密钥**: ⏳ 可选配置

### 2. 重新启动服务器（如果修改了环境变量）
```bash
# 停止当前服务器（按 Ctrl+C）
# 重新启动
npm run dev
```

### 3. 设置定时任务（可选）
应用程序支持自动化交易，您需要设置cron jobs：

```bash
# 每20秒收集指标
* * * * * curl -X POST http://localhost:3000/api/cron/20-seconds-metrics-interval -H "Authorization: Bearer YOUR_CRON_SECRET_KEY"

# 每3分钟执行交易逻辑
*/3 * * * * curl -X POST http://localhost:3000/api/cron/3-minutes-run-interval -H "Authorization: Bearer YOUR_CRON_SECRET_KEY"
```

## ⚠️ 重要提醒

### 安全注意事项：
1. **当前使用沙盒模式** - 所有交易都是模拟的，不会使用真实资金
2. **API密钥安全** - 不要将包含真实API密钥的 `.env` 文件提交到版本控制
3. **测试资金** - 建议先用小金额（如 START_MONEY=30）进行测试

### 交易风险：
- 这是一个教育/研究软件
- 加密货币交易存在损失风险
- AI模型可能做出错误的交易决策
- 过去的表现不能保证未来的结果

## 🔧 开发命令

```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start

# 代码检查
npm run lint

# 数据库操作
npx prisma generate    # 生成Prisma客户端
npx prisma db push     # 推送数据库架构
npx prisma studio      # 打开数据库浏览器
```

## 📁 项目结构

```
open-nof1.ai/
├── app/                    # Next.js App Router
│   ├── api/               # API路由
│   ├── page.tsx           # 主页面
│   └── globals.css        # 全局样式
├── components/            # React组件
│   ├── ui/               # shadcn/ui组件
│   ├── metrics-chart.tsx # 性能图表
│   └── models-view.tsx   # 模型视图
├── lib/                  # 工具库
│   ├── ai/               # AI相关逻辑
│   ├── trading/          # 交易逻辑
│   └── types/            # TypeScript类型
├── prisma/               # 数据库架构
│   └── schema.prisma     # Prisma模式
├── .env                  # 环境变量
└── dev.db               # SQLite数据库文件
```

## 🆘 故障排除

### 常见问题：

1. **端口3000被占用**
   ```bash
   # 查找占用进程
   lsof -i :3000
   # 或者使用其他端口
   PORT=3001 npm run dev
   ```

2. **数据库错误**
   ```bash
   # 重新创建数据库
   rm dev.db
   npx prisma db push
   ```

3. **依赖问题**
   ```bash
   # 清理并重新安装
   rm -rf node_modules pnpm-lock.yaml
   pnpm install
   ```

## 📞 支持

如果您遇到问题，可以：

1. 检查项目 README.md 文件
2. 查看 Next.js 和 Prisma 文档
3. 检查 GitHub 项目的 Issues 页面

---

**🎯 恭喜！您现在拥有了一个功能完整的AI加密货币交易基准平台！**

*记住：这主要用于教育和研究目的。在使用真实资金之前，请充分测试并了解相关风险。*